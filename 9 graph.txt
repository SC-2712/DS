#include <stdio.h>
#include <stdlib.h>
#include <string.h>

struct Node {
    int city;
    int cost;
    struct Node* next;
};

struct Node* adj[20];
int visited[20];
int n;

void addEdge(int u, int v, int cost) {
    struct Node* newNode = (struct Node*)malloc(sizeof(struct Node));
    newNode->city = v;
    newNode->cost = cost;
    newNode->next = adj[u];
    adj[u] = newNode;

    newNode = (struct Node*)malloc(sizeof(struct Node));
    newNode->city = u;
    newNode->cost = cost;
    newNode->next = adj[v];
    adj[v] = newNode;
}

void createGraph() {
    int edges, u, v, cost;
    printf("Enter number of cities: ");
    scanf("%d", &n);
    for (int i = 0; i < n; i++)
        adj[i] = NULL;
    printf("Enter number of flight paths: ");
    scanf("%d", &edges);
    for (int i = 0; i < edges; i++) {
        printf("Enter path (City1 City2 Cost): ");
        scanf("%d%d%d", &u, &v, &cost);
        addEdge(u, v, cost);
    }
}

void dfs(int v) {
    visited[v] = 1;
    struct Node* temp = adj[v];
    while (temp != NULL) {
        if (!visited[temp->city])
            dfs(temp->city);
        temp = temp->next;
    }
}

int isConnected() {
    for (int i = 0; i < n; i++)
        visited[i] = 0;
    dfs(0);
    for (int i = 0; i < n; i++)
        if (!visited[i])
            return 0;
    return 1;
}

void display() {
    printf("\nAdjacency List Representation:\n");
    for (int i = 0; i < n; i++) {
        struct Node* temp = adj[i];
        printf("City %d -> ", i);
        while (temp != NULL) {
            printf("(%d, Cost:%d) ", temp->city, temp->cost);
            temp = temp->next;
        }
        printf("\n");
    }
}

int main() {
    createGraph();
    display();
    if (isConnected())
        printf("\nThe graph is connected.\n");
    else
        printf("\nThe graph is not connected.\n");
    return 0;
}

Enter number of cities: 4
Enter number of flight paths: 4
Enter path (City1 City2 Cost): 0 1 5
Enter path (City1 City2 Cost): 0 2 3
Enter path (City1 City2 Cost): 1 3 2
Enter path (City1 City2 Cost): 2 3 4

Adjacency List Representation:
City 0 -> (2, Cost:3) (1, Cost:5) 
City 1 -> (3, Cost:2) (0, Cost:5) 
City 2 -> (3, Cost:4) (0, Cost:3) 
City 3 -> (2, Cost:4) (1, Cost:2) 

The graph is connected.
